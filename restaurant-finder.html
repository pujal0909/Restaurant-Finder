<!DOCTYPE html>
<html>

<!--
    Sample Response from API call :
'https://api.documenu.com/v2/restaurants/search/geo?key=4a8d2d5aae6c39994b538b3af93c7747&lat=' + document.forms[0].latitude.value + '&lon=' + document.forms[0].longitude.value + '&distance=' + document.forms[0].distance.value;
https://api.documenu.com/v2/restaurants/search/geo?key=4a8d2d5aae6c39994b538b3af93c7747&lat=1&lon=2&distance=1

    {
  "totalResults": 1,
  "page": 1,
  "total_pages": 1,
  "more_pages": false,
  "data": [
    {
      "restaurant_name": "Steffey's Pizza",
      "restaurant_phone": "",
      "restaurant_website": "",
      "hours": "",
      "price_range": "$$$",
      "price_range_num": 3,
      "restaurant_id": 10000002000000,
      "cuisines": [
        ""
      ],
      "address": {
        "city": "Lavaca",
        "state": "AR",
        "postal_code": "72941",
        "street": "627 W Main St",
        "formatted": "627 W Main St Lavaca, AR 72941"
      },
      "geo": {
        "lat": 1,
        "lon": 2
      },
      "menus": [],
      "last_updated": "2020-12-29T07:20:14.648Z"
    }
  ],
  "numResults": 1
}
-->
<head>
    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function myFunction() {
            //alert("I am here " + document.forms[0].latitude.value + " " + document.forms[0].longitude.value + " " + document.forms[0].distance.value + " " + document.forms[0].cuisinetypes.value);
            //fetch('https://api.documenu.com/v2/restaurant/4072702673999819?key=4a8d2d5aae6c39994b538b3af93c7747')
            let url = 'https://api.documenu.com/v2/restaurants/search/geo?key=a9180cfaceb312a1e4401c469b09d94d&lat=' + document.forms[0].latitude.value + '&lon=' + document.forms[0].longitude.value + '&distance=' + document.forms[0].distance.value;
            console.log("URL",url);
            fetch(url)
                .then(res => res.json())
                .then(data => {
                    console.log("data", JSON.stringify(data));
                    let innerHtml = "";
                    data.data.forEach(rest => {
                        innerHtml +=   "<h2> Restaurant: " + rest.restaurant_name + "</h2>";
                        //rest.cuisines.forEach(cuisine => { innerHtml += "<h1> Cuisine :" + cuisine + "</h1>"; })                        
                    }) 
                    // innerHtml += "<h2> Rest name: " + data.result.restaurant_name + "</h2>";
                    // innerHtml += "<h2> Rest phone: " + data.result.restaurant_phone + "</h2>";
                    document.getElementById("div1").innerHTML = innerHtml;
                }).catch((error) => {
                    console.log("error", error)
                });
        }
    </script>
</head>

<body>
    <!-- Background Video-->
    <!-- <video class="bg-video" playsinline="playsinline" autoplay="autoplay" muted="muted" loop="loop">
        <source src="assets/mp4/bg.mp4" type="video/mp4" /> -->
    </video>

    <div class="masthead">
        <div class="masthead-content text-white">
            <div class="container-fluid px-4 px-lg-0">
                <h1 class="fst-italic lh-1 mb-4">Restaurant Generator</h1>
                <p class="mb-5">Craving Something? Well, you've come to the right place. Just answer the questions below
                    and we'll find the place for you!</p>
                <form id="contactForm" action="javascript:void(0);">
                    <!-- Email address input-->
                    <div>
                        <div class="col"><input class="form-control" id="latitude" type="latitude"
                                placeholder="latitude" aria-label="What is the latitude?" /></div>
                        <div class="col"><input class="form-control" id="longitude" type="longitude"
                                placeholder="longitude" aria-label="What is the longitude?" /></div>
                    </div>

                    <!--<div class = "question3">
                          <div class="col"><input class="form-control" id="question3" type="typeofcuisine" placeholder="What cuisine type?" aria-label="cuisine" /></div>
                      </div>*/-->
                    

                    <!-- <div>
                        <label for="cuisinetypes">Type of Cuisine?</label>
                        <select name="cuisinetypes" id="cuisinetypes">
                            <option value="Chinese">Chinese</option>
                            <option value="Japanese">Japanese</option>
                            <option value="Mexican">Mexican</option>
                            <option value="Indian">Indian</option>
                            <option value="Italian">Italian</option>
                            <option value="American">American</option>
                            <option value="American">Mediterranean</option>
                        </select>
                    </div> -->

                    <br>

                    <div>
                        <label for="distance">Preferred Distance?</label>
                        <select name="distance" id="distance">
                            <option value="1">less than 1 mile</option>
                            <option value="5">less than 5 miles</option>
                            <option value="10">less than 10 miles</option>
                            <option value="15">less than 15 miles</option>
                            <option value="20">less than 20 miles</option>
                        </select>
                    </div>

                    <br>



                    <div class="question3">
                        <div class="col-auto"><button>
                                <class="btn btn-primary disabled" id="submitButton" onclick="myFunction()">Submit
                            </button></div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <!-- Social Icons-->
    <!-- For more icon options, visit https://fontawesome.com/icons?d=gallery&p=2&s=brands-->
    <div class="social-icons">
        <div class="d-flex flex-row flex-lg-column justify-content-center align-items-center h-100 mt-3 mt-lg-0">
            <a class="btn btn-dark m-3" href="#!"><i class="fab fa-twitter"></i></a>
            <a class="btn btn-dark m-3" href="#!"><i class="fab fa-facebook-f"></i></a>
            <a class="btn btn-dark m-3" href="#!"><i class="fab fa-instagram"></i></a>
        </div>
    </div>
    <div id="div1">
        <!-- <p>Click the button to trigger a function.</p>

    <button onclick="myFunction()">Click me</button>

    <p id="demo"></p>   
    -->


    </div>
</body>

</html>